<div class="col-12 overflow-auto">
    @if (loading) {
        <div>
            <div
                class="spinner-border"
                role="status"
            >
                ðŸš‰
                <span class="visually-hidden">Loading...</span>
            </div>
            <p>Loading feed data...</p>
        </div>
    }

    <table class="table table-striped table-hover ">
        <thead class="thead-dark">
            <tr>
                <th scope="col">Enabled</th>
                <th scope="col">Name</th>
                <th scope="col">Waiting for import</th>
                <th scope="col">Last failed attempt</th>
                <th scope="col">Last update</th>
                <th scope="col">Last checked</th>
                <th scope="col">Interval</th>
                <th scope="col">Total agencies</th>
                <th scope="col">Total routes</th>
                <th scope="col">Total stops</th>
                <th scope="col">Total trips</th>
            </tr>
        </thead>
        <tbody>
            @for (feed of feeds; track feed) {
                <tr>
                    <td>{{ feed.enabled ?? "Yes"}}</td>
                    <th scope="row"><a routerLink="/feed/{{feed.name}}">{{ feed.name }}</a></th>
                    <td>@if(feed.downloadPending)
                        {
                            <span style="color: orange">Yes</span>
                        }
                        @else {
                            <span style="color: green">No</span>
                        }
                    </td>
                    <td>{{ feed.lastAttempt | date: 'EEEE, MMMM d, y, HH:mm' }}</td>
                    <td>{{ feed.lastUpdated | date: 'EEEE, MMMM d, y, HH:mm'}}</td>
                    <td>{{ feed.lastChecked | date: 'EEEE, MMMM d, y, HH:mm'}}</td>
                    <td>{{ feed.interval }}</td>
                    <td>{{ feed.agencies }}</td>
                    <td>{{ feed.routes }}</td>
                    <td>{{ feed.stops }}</td>
                    <td>{{ feed.trips }}</td>
                </tr>
            } @empty {
                <p>No feeds loaded to display!</p>
            }
        </tbody>
    </table>
</div>
